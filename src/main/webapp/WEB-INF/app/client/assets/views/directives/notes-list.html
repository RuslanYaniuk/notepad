<md-list ng-controller="NotesListController"
         class="layout-align-center-stretch"
         layout="column" flex>

  <md-list-item class="md-2-line" ng-repeat="note in notes.list">
    <md-card flex>
      <md-card-content layout="column">
        <div layout="row">
          <div class="md-block" flex>
            <h2 class="note-subject md-headline">{{note.subject}}</h2>
          </div>

          <md-menu>
            <md-button class="md-icon-button" ng-click="$mdOpenMenu($event)">
              <md-icon class="material-icons md-light">more_vert</md-icon>
            </md-button>

            <md-menu-content width="3">
              <md-menu-item>
                <md-button ng-click="showUpdateDialog($event, note)">
                  <md-icon class="material-icons">edit</md-icon>
                  Edit
                </md-button>
              </md-menu-item>
              <md-menu-item>
                <md-button ng-click="deleteNote(note)">
                  <md-icon class="material-icons">delete</md-icon>
                  Delete
                </md-button>
              </md-menu-item>
            </md-menu-content>
          </md-menu>
        </div>

        <pre id="text_{{note.id}}"
             ng-class="isExpanded(note)"
             class="note-text-holder md-body-1">{{note.text}}</pre>
      </md-card-content>

      <div class="md-margin" layout="row" layout-align="space-between center">
        <div>
          <md-button ng-show="isTextHolderOverloaded(note)"
                     ng-click="expandCollapse(note)"
                     class="md-icon-button">
            <md-icon class="material-icons md-light">{{getExpandIcon(note)}}</md-icon>
          </md-button>
        </div>

        <span class="creation-date md-padding">Created {{note.creationDate | date:"MMM dd, yyyy 'at' HH:mm"}}</span>
      </div>

    </md-card>
  </md-list-item>

</md-list>