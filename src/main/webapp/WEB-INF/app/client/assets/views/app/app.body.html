<div layout="row" layout-align="center start" ng-controller="NoteController" ng-init="init()" flex>

  <div id="note-container" >

    <md-list>
      <md-list-item class="md-2-line" ng-repeat="note in notesContainer.notes">

          <md-card style="width: 400px;">
            <md-card-content>
            <div layout="row">
              <div class="md-block" flex>
                <h2 class="md-headline">{{note.subject}}</h2>
              </div>

              <md-menu ng-controller="AuthController" ng-show="logged" class="ng-hide">
                <md-button class="md-icon-button" ng-click="$mdOpenMenu($event)">
                  <md-icon class="material-icons md-light">menu</md-icon>
                </md-button>

                <md-menu-content width="3">
                  <md-menu-item>
                    <md-button ng-click="showEditNoteDialog($event, note)">
                      <md-icon class="material-icons">edit</md-icon>
                      Edit
                    </md-button>
                  </md-menu-item>
                  <md-menu-item>
                    <md-button ng-click="deleteNote(note)">
                      <md-icon class="material-icons">delete</md-icon>
                      Delete
                    </md-button>
                  </md-menu-item>
                </md-menu-content>
              </md-menu>
            </div>

            <div style="max-height: 300px; overflow: auto">
              <p class="card-body">{{getFormattedText(note)}}</p>
            </div>
            </md-card-content>

            <div class="md-margin" layout="row" layout-align="end center">
              <span class="md-padding">{{note.creationDate}}</span>
            </div>
          </md-card>

      </md-list-item>
    </md-list>


  </div>
</div>

<div ng-controller="NoteController" style="position: fixed; top: 70px; left: 75%">
  <md-button id="add-note-fab" ng-click="showNewNoteDialog()" class="md-fab md-primary md-accent">
    <md-icon class="material-icons">add</md-icon>
  </md-button>
</div>
